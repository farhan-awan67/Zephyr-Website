<%- include("partials/header"); -%>
<div class="w-full min-h-screen">
  <!-- Header -->
  <header class="bg-gray-800 text-white p-4 flex justify-between items-center">
    <div class="text-xl font-semibold">Admin Dashboard</div>
    <div class="flex items-center space-x-4">
      <div class="text-sm">Welcome, Admin</div>
    </div>
  </header>

  <!-- Main Body -->
  <div class="flex flex-col lg:flex-row">
    <!-- Sidebar (Responsive) -->
    <div
      id="sidebar"
      class="lg:w-64 w-full lg:flex lg:flex-col lg:bg-gray-800 lg:text-white lg:p-6 hidden lg:block"
    >
      <nav>
        <ul class="space-y-4">
          <li>
            <a href="#" class="block p-2 hover:bg-gray-700 rounded"
              >Dashboard</a
            >
          </li>
          <li>
            <a href="#" class="block p-2 hover:bg-gray-700 rounded">Users</a>
          </li>
        </ul>
      </nav>
    </div>

    <!-- Main Content Area -->
    <main class="flex-1 p-6">
      <!-- Mobile Sidebar Toggle -->
      <button
        class="lg:hidden p-3 bg-gray-700 text-white rounded-lg mb-6"
        id="sidebarToggle"
      >
        Toggle Sidebar
      </button>

      <!-- Dashboard Section -->
      <section class="mb-8">
        <h1 class="text-2xl font-semibold text-gray-800 mb-4">Dashboard</h1>

        <!-- Total Users Card -->
        <div class="bg-white p-6 shadow-md rounded-lg mb-6">
          <h3 class="text-lg font-medium text-gray-600">Total Users</h3>
          <p class="text-xl font-bold text-gray-800"><%= users.length %></p>
        </div>
      </section>

      <!-- Users List Table Section -->
      <section>
        <h2 class="text-2xl font-semibold text-gray-800 mb-4">User List</h2>

        <!-- Search Bar -->
        <div class="flex items-center mb-4">
          <input
            type="text"
            placeholder="Search users..."
            class="w-full px-4 py-2 rounded-lg border border-gray-300 mr-4 focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
          <button
            class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600"
          >
            Search
          </button>
        </div>

        <!-- User Table -->
        <div class="overflow-x-auto bg-white rounded-lg shadow-md">
          <table class="min-w-full table-auto">
            <thead class="bg-gray-800 text-white">
              <tr>
                <th class="px-6 py-3 text-left">Name</th>
                <th class="px-6 py-3 text-left">Email</th>
                <th class="px-6 py-3 text-left">Posts</th>
                <th class="px-6 py-3 text-left">Actions</th>
              </tr>
            </thead>
            <tbody class="text-gray-700">
              <% users.forEach((user) => {%>
              <tr class="border-b hover:bg-gray-100">
                <td class="px-6 py-4"><%= user.username %></td>
                <td class="px-6 py-4"><%= user.email %></td>
                <td class="px-6 py-4"><%= posts.totalPosts %></td>
                <td class="px-6 py-4">
                  <button
                    class="bg-yellow-500 text-white px-3 py-1 rounded-lg hover:bg-yellow-600"
                  >
                    Edit
                  </button>
                  <button
                    class="bg-red-500 text-white px-3 py-1 rounded-lg hover:bg-red-600 ml-2"
                  >
                    Delete
                  </button>
                </td>
              </tr>
              <% }) %>
            </tbody>
          </table>
        </div>

        <!-- Pagination -->
        <div class="flex justify-between items-center mt-6">
          <button
            class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400"
          >
            Previous
          </button>
          <button
            class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400"
          >
            Next
          </button>
        </div>
      </section>
    </main>
  </div>

  <script>
    // Toggle sidebar visibility for mobile
    document
      .getElementById("sidebarToggle")
      .addEventListener("click", function () {
        const sidebar = document.getElementById("sidebar");
        sidebar.classList.toggle("hidden"); // Toggle sidebar visibility
      });
  </script>
</div>
<%- include("partials/footer"); -%>
